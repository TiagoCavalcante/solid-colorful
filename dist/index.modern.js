import{splitProps as o,createMemo as e,createEffect as r,createSignal as l}from"solid-js";function a(){return a=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},a.apply(this,arguments)}function s(o){const e=o;return o=>{e&&e(o)}}const t=(o,e=0,r=1)=>o>r?r:o<e?e:o,n=o=>"touches"in o,c=l=>{const[t,c]=o(l,["onMove","onKey"]),u=(s(t.onMove),s(t.onKey)),d=e(()=>{const o=o=>{(o=>{!n(o)&&o.preventDefault()})(o),n(o),r(!1)},e=()=>r(!1);function r(r){const l=self,a=r?l.addEventListener:l.removeEventListener;a("mousemove",o),a("mouseup",e)}return{handleMoveStart:o=>{},handleKeyDown:o=>{const e=o.which||o.keyCode;e<37||e>40||(o.preventDefault(),u({left:39===e?.05:37===e?-.05:0,top:40===e?.05:38===e?-.05:0}))},toggleDocumentEvents:r}});return r(()=>d().toggleDocumentEvents()),h("div",a({},c,{onTouchStart:d().handleMoveStart,onMouseDown:d().handleMoveStart,class:"solid-colorful__interactive",ref:null,onKeyDown:d().handleKeyDown,tabIndex:0,role:"slider"}))},u=o=>o.filter(Boolean).join(" "),d=o=>{var e;const r=u(["solid-colorful__pointer",o.class]);return h("div",{class:r,style:{top:100*(null!=(e=o.top)?e:.5)+"%",left:100*o.left+"%"}},h("div",{class:"solid-colorful__pointer-fill",style:{"background-color":o.color}}))},i=(o,e=0,r=Math.pow(10,e))=>Math.round(r*o)/r,v={grad:.9,turn:360,rad:360/(2*Math.PI)},f=o=>("#"===o[0]&&(o=o.substr(1)),o.length<6?{r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16),a:1}:{r:parseInt(o.substr(0,2),16),g:parseInt(o.substr(2,2),16),b:parseInt(o.substr(4,2),16),a:1}),g=(o,e="deg")=>Number(o)*(v[e]||1),p=o=>{const e=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return e?_({h:g(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}},b=p,_=o=>{const e=o.s*(o.l<50?o.l:100-o.l)/100;return{h:o.h,s:e>0?2*e/(o.l+e)*100:0,v:o.l+e,a:o.a}},m=o=>{const e=(200-o.s)*o.v/100;return{h:i(o.h),s:i(e>0&&e<200?o.s*o.v/100/(e<=100?e:200-e)*100:0),l:i(e/2),a:i(o.a,2)}},x=o=>{const{h:e,s:r,l}=m(o);return`hsl(${e}, ${r}%, ${l}%)`},C=o=>{const{h:e,s:r,l,a}=m(o);return`hsla(${e}, ${r}%, ${l}%, ${a})`},M=o=>{const e=o.h/360*6,r=o.s/100,l=o.v/100,a=Math.floor(e),s=l*(1-r),t=l*(1-(e-a)*r),n=l*(1-(1-e+a)*r),c=a%6;return{r:i(255*[l,t,s,s,n,l][c]),g:i(255*[n,l,l,t,s,s][c]),b:i(255*[s,s,n,l,l,t][c]),a:i(o.a,2)}},H=o=>{const e=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return e?N({h:g(e[1],e[2]),s:Number(e[3]),v:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}},$=H,w=o=>{const e=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return e?k({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}},y=w,q=o=>{const e=o.toString(16);return e.length<2?"0"+e:e},k=o=>{const e=Math.max(o.r,o.g,o.b),r=e-Math.min(o.r,o.g,o.b),l=r?e===o.r?(o.g-o.b)/r:e===o.g?2+(o.b-o.r)/r:4+(o.r-o.g)/r:0;return{h:i(60*(l<0?l+6:l)),s:i(e?r/e*100:0),v:i(e/255*100),a:o.a}},N=o=>({h:i(o.h),s:i(o.s),v:i(o.v),a:i(o.a,2)}),D=o=>{const e=u(["solid-colorful__hue",o.class]);return h("div",{class:e},h(c,{onMove:e=>{o.onChange({h:360*e.left})},onKey:e=>{o.onChange({h:t(o.hue+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":i(o.hue)},h(d,{class:"solid-colorful__hue-pointer",left:o.hue/360,color:x({h:o.hue,s:100,v:100,a:1})})))},I=o=>h("div",{class:"solid-colorful__saturation",style:{"background-color":x({h:o.hsva.h,s:100,v:100,a:1})}},h(c,{onMove:e=>{o.onChange({s:100*e.left,v:100-100*e.top})},onKey:e=>{o.onChange({s:t(o.hsva.s+100*e.left,0,100),v:t(o.hsva.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${i(o.hsva.s)}%, Brightness ${i(o.hsva.v)}%`},h(d,{class:"solid-colorful__saturation-pointer",top:1-o.hsva.v/100,left:o.hsva.s/100,color:x(o.hsva)}))),j=(o,e)=>{if(o===e)return!0;for(const r in o)if(o[r]!==e[r])return!1;return!0},K=(o,e)=>o.replace(/\s/g,"")===e.replace(/\s/g,"");function z(o,e,a){const t=s(a),[n,c]=l(o.toHsva(e));let u={color:e,hsva:n()};return r(()=>{if(!o.equal(e,u.color)){const r=o.toHsva(e);u={hsva:r,color:e},c(r)}}),r(()=>{let e;j(n(),u.hsva)||o.equal(e=o.fromHsva(n()),u.color)||(u={hsva:n(),color:e},t(e))}),[n,o=>{c(e=>Object.assign({},e,o))}]}let O;const S=()=>O||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0),B=o=>{O=o},E=new Map,L=o=>{r(()=>{const e=o?o.ownerDocument:document;if(void 0!==e&&!E.has(e)){const o=e.createElement("style");o.innerHTML='.solid-colorful{cursor:default;display:flex;flex-direction:column;height:200px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:200px}.solid-colorful__saturation{background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0));border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;flex-grow:1;position:relative}.solid-colorful__alpha-gradient,.solid-colorful__pointer-fill{border-radius:inherit;bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.solid-colorful__alpha-gradient,.solid-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.solid-colorful__alpha,.solid-colorful__hue{height:24px;position:relative}.solid-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.solid-colorful__last-control{border-radius:0 0 8px 8px}.solid-colorful__interactive{border-radius:inherit;bottom:0;left:0;outline:none;position:absolute;right:0;top:0;touch-action:none}.solid-colorful__pointer{background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);box-sizing:border-box;height:28px;position:absolute;transform:translate(-50%,-50%);width:28px;z-index:1}.solid-colorful__interactive:focus .solid-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.solid-colorful__alpha,.solid-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.solid-colorful__saturation-pointer{z-index:3}.solid-colorful__hue-pointer{z-index:2}',E.set(e,o);const r=S();r&&o.setAttribute("nonce",r),e.head.appendChild(o)}})},A=e=>{var r;const[s,t]=o(e,["class","colorModel","color","onChange"]),[n,c]=l();L(n());const[d,i]=z(s.colorModel,null!=(r=s.color)?r:e.colorModel.defaultColor,s.onChange),v=u(["solid-colorful",s.class]);return h("div",a({},t,{ref:c,class:v}),h(I,{hsva:d(),onChange:i}),h(D,{hue:d().h,onChange:i,class:"solid-colorful__last-control"}))},F={defaultColor:"000",toHsva:o=>k(f(o)),fromHsva:o=>{return e=M(o),"#"+q(e.r)+q(e.g)+q(e.b);var e},equal:(o,e)=>o.toLowerCase()===e.toLowerCase()||j(f(o),f(e))},P=o=>h(A,a({},o,{colorModel:F})),T=o=>{const e={backgroundImage:`linear-gradient(90deg, ${C(Object.assign({},o.hsva,{a:0}))}, ${C(Object.assign({},o.hsva,{a:1}))})`},r=u(["solid-colorful__alpha",o.class]);return h("div",{class:r},h("div",{class:"solid-colorful__alpha-gradient",style:e}),h(c,{onMove:e=>{o.onChange({a:e.left})},onKey:e=>{o.onChange({a:t(o.hsva.a+e.left)})},"aria-label":"Alpha","aria-valuetext":`${i(100*o.hsva.a)}%`},h(d,{class:"solid-colorful__alpha-pointer",left:o.hsva.a,color:C(o.hsva)})))},G=e=>{var r;const[s,t]=o(e,["class","colorModel","color","onChange"]),[n,c]=l();L(n());const[d,i]=z(s.colorModel,null!=(r=s.color)?r:s.colorModel.defaultColor,s.onChange),v=u(["solid-colorful",s.class]);return h("div",a({},t,{ref:c,class:v}),h(I,{hsva:d(),onChange:i}),h(D,{hue:d().h,onChange:i}),h(T,{hsva:d(),onChange:i,class:"solid-colorful__last-control"}))},J={defaultColor:{h:0,s:0,l:0,a:1},toHsva:_,fromHsva:m,equal:j},Q=o=>h(G,a({},o,{colorModel:J})),R={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:p,fromHsva:C,equal:K},U=o=>h(G,a({},o,{colorModel:R})),V={defaultColor:{h:0,s:0,l:0},toHsva:({h:o,s:e,l:r})=>_({h:o,s:e,l:r,a:1}),fromHsva:o=>{return{h:(e=m(o)).h,s:e.s,l:e.l};var e},equal:j},W=o=>h(A,a({},o,{colorModel:V})),X={defaultColor:"hsl(0, 0%, 0%)",toHsva:b,fromHsva:x,equal:K},Y=o=>h(A,a({},o,{colorModel:X})),Z={defaultColor:{h:0,s:0,v:0,a:1},toHsva:o=>o,fromHsva:N,equal:j},oo=o=>h(G,a({},o,{colorModel:Z})),eo={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:H,fromHsva:o=>{const{h:e,s:r,v:l,a}=N(o);return`hsva(${e}, ${r}%, ${l}%, ${a})`},equal:K},ro=o=>h(G,a({},o,{colorModel:eo})),lo={defaultColor:{h:0,s:0,v:0},toHsva:({h:o,s:e,v:r})=>({h:o,s:e,v:r,a:1}),fromHsva:o=>{const{h:e,s:r,v:l}=N(o);return{h:e,s:r,v:l}},equal:j},ao=o=>h(A,a({},o,{colorModel:lo})),so={defaultColor:"hsv(0, 0%, 0%)",toHsva:$,fromHsva:o=>{const{h:e,s:r,v:l}=N(o);return`hsv(${e}, ${r}%, ${l}%)`},equal:K},to=o=>h(A,a({},o,{colorModel:so})),no={defaultColor:{r:0,g:0,b:0,a:1},toHsva:k,fromHsva:M,equal:j},co=o=>h(G,a({},o,{colorModel:no})),uo={defaultColor:"rgba(0, 0, 0, 1)",toHsva:w,fromHsva:o=>{const{r:e,g:r,b:l,a}=M(o);return`rgba(${e}, ${r}, ${l}, ${a})`},equal:K},ho=o=>h(G,a({},o,{colorModel:uo})),io={defaultColor:{r:0,g:0,b:0},toHsva:({r:o,g:e,b:r})=>k({r:o,g:e,b:r,a:1}),fromHsva:o=>{return{r:(e=M(o)).r,g:e.g,b:e.b};var e},equal:j},vo=o=>h(A,a({},o,{colorModel:io})),fo={defaultColor:"rgb(0, 0, 0)",toHsva:y,fromHsva:o=>{const{r:e,g:r,b:l}=M(o);return`rgb(${e}, ${r}, ${l})`},equal:K},go=o=>h(A,a({},o,{colorModel:fo})),po=/^#?([0-9A-F]{3,8})$/i,bo=e=>{const[t,n]=o(e,["color","escape","format","onBlur","onChange","process","validate"]),[c,u]=l(t.escape(t.color||"")),d=s(t.onChange),i=s(t.onBlur);return r(()=>{u(t.escape(t.color||""))}),h("input",a({},n,{value:t.format?t.format(c()):c(),spellcheck:"false",onChange:o=>{const e=t.escape(o.target.value);u(e),t.validate(e)&&d(t.process?t.process(e):e)},onBlur:o=>{t.validate(o.target.value)||u(t.escape(t.color||"")),i(o)}}))},_o=o=>"#"+o,mo=e=>{const[r,l]=o(e,["alpha","prefixed"]);return h(bo,a({},l,{escape:o=>o.replace(/([^0-9A-F]+)/gi,"").substring(0,r.alpha?8:6),format:r.prefixed?_o:void 0,process:_o,validate:o=>((o,e)=>{const r=po.exec(o),l=r?r[1].length:0;return 3===l||6===l||!!e&&4===l||!!e&&8===l})(o,r.alpha)}))};export{mo as HexColorInput,P as HexColorPicker,W as HslColorPicker,Y as HslStringColorPicker,Q as HslaColorPicker,U as HslaStringColorPicker,ao as HsvColorPicker,to as HsvStringColorPicker,oo as HsvaColorPicker,ro as HsvaStringColorPicker,vo as RgbColorPicker,go as RgbStringColorPicker,co as RgbaColorPicker,ho as RgbaStringColorPicker,B as setNonce};
//# sourceMappingURL=index.modern.js.map
