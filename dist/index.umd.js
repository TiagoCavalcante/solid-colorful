!function(o,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("solid-js")):"function"==typeof define&&define.amd?define(["exports","solid-js"],r):r((o||self)["solid-colorful"]={},o.solidJs)}(this,function(o,r){function e(){return e=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},e.apply(this,arguments)}function n(o){var r=o;return function(o){r&&r(o)}}var t,a=function(o,r,e){return void 0===r&&(r=0),void 0===e&&(e=1),o>e?e:o<r?r:o},l=function(o){return"touches"in o},s=function(o){var t=r.splitProps(o,["onMove","onKey"]),a=t[0],s=t[1],u=(n(a.onMove),n(a.onKey)),i=r.createMemo(function(){var o=function(o){!function(o){!l(o)&&o.preventDefault()}(o),l(o),e(!1)},r=function(){return e(!1)};function e(e){var n=self,t=e?n.addEventListener:n.removeEventListener;t("mousemove",o),t("mouseup",r)}return{handleMoveStart:function(o){},handleKeyDown:function(o){var r=o.which||o.keyCode;r<37||r>40||(o.preventDefault(),u({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},toggleDocumentEvents:e}});return r.createEffect(function(){return i().toggleDocumentEvents()}),h("div",e({},s,{onTouchStart:i().handleMoveStart,onMouseDown:i().handleMoveStart,class:"solid-colorful__interactive",ref:null,onKeyDown:i().handleKeyDown,tabIndex:0,role:"slider"}))},u=function(o){return o.filter(Boolean).join(" ")},i=function(o){var r,e=u(["solid-colorful__pointer",o.class]);return h("div",{class:e,style:{top:100*(null!=(r=o.top)?r:.5)+"%",left:100*o.left+"%"}},h("div",{class:"solid-colorful__pointer-fill",style:{"background-color":o.color}}))},c=function(o,r,e){return void 0===r&&(r=0),void 0===e&&(e=Math.pow(10,r)),Math.round(e*o)/e},f={grad:.9,turn:360,rad:360/(2*Math.PI)},d=function(o){return"#"===o[0]&&(o=o.substr(1)),o.length<6?{r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16),a:1}:{r:parseInt(o.substr(0,2),16),g:parseInt(o.substr(2,2),16),b:parseInt(o.substr(4,2),16),a:1}},v=function(o,r){return void 0===r&&(r="deg"),Number(o)*(f[r]||1)},g=function(o){var r=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return r?b({h:v(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},p=g,b=function(o){var r=o.s*(o.l<50?o.l:100-o.l)/100;return{h:o.h,s:r>0?2*r/(o.l+r)*100:0,v:o.l+r,a:o.a}},_=function(o){var r=(200-o.s)*o.v/100;return{h:c(o.h),s:c(r>0&&r<200?o.s*o.v/100/(r<=100?r:200-r)*100:0),l:c(r/2),a:c(o.a,2)}},m=function(o){var r=_(o);return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},C=function(o){var r=_(o);return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},H=function(o){var r=o.h/360*6,e=o.s/100,n=o.v/100,t=Math.floor(r),a=n*(1-e),l=n*(1-(r-t)*e),s=n*(1-(1-r+t)*e),u=t%6;return{r:c(255*[n,l,a,a,s,n][u]),g:c(255*[s,n,n,l,a,a][u]),b:c(255*[a,a,s,n,n,l][u]),a:c(o.a,2)}},x=function(o){var r=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return r?q({h:v(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},M=x,k=function(o){var r=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(o);return r?P({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},w=k,y=function(o){var r=o.toString(16);return r.length<2?"0"+r:r},P=function(o){var r=Math.max(o.r,o.g,o.b),e=r-Math.min(o.r,o.g,o.b),n=e?r===o.r?(o.g-o.b)/e:r===o.g?2+(o.b-o.r)/e:4+(o.r-o.g)/e:0;return{h:c(60*(n<0?n+6:n)),s:c(r?e/r*100:0),v:c(r/255*100),a:o.a}},q=function(o){return{h:c(o.h),s:c(o.s),v:c(o.v),a:c(o.a,2)}},S=function(o){var r=u(["solid-colorful__hue",o.class]);return h("div",{class:r},h(s,{onMove:function(r){o.onChange({h:360*r.left})},onKey:function(r){o.onChange({h:a(o.hue+360*r.left,0,360)})},"aria-label":"Hue","aria-valuetext":c(o.hue)},h(i,{class:"solid-colorful__hue-pointer",left:o.hue/360,color:m({h:o.hue,s:100,v:100,a:1})})))},N=function(o){return h("div",{class:"solid-colorful__saturation",style:{"background-color":m({h:o.hsva.h,s:100,v:100,a:1})}},h(s,{onMove:function(r){o.onChange({s:100*r.left,v:100-100*r.top})},onKey:function(r){o.onChange({s:a(o.hsva.s+100*r.left,0,100),v:a(o.hsva.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+c(o.hsva.s)+"%, Brightness "+c(o.hsva.v)+"%"},h(i,{class:"solid-colorful__saturation-pointer",top:1-o.hsva.v/100,left:o.hsva.s/100,color:m(o.hsva)})))},j=function(o,r){if(o===r)return!0;for(var e in o)if(o[e]!==r[e])return!1;return!0},E=function(o,r){return o.replace(/\s/g,"")===r.replace(/\s/g,"")};function I(o,e,t){var a=n(t),l=r.createSignal(o.toHsva(e)),s=l[0],u=l[1],i={color:e,hsva:s()};return r.createEffect(function(){if(!o.equal(e,i.color)){var r=o.toHsva(e);i={hsva:r,color:e},u(r)}}),r.createEffect(function(){var r;j(s(),i.hsva)||o.equal(r=o.fromHsva(s()),i.color)||(i={hsva:s(),color:r},a(r))}),[s,function(o){u(function(r){return Object.assign({},r,o)})}]}var D=function(){return t||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0)},K=new Map,z=function(o){r.createEffect(function(){var r=o?o.ownerDocument:document;if(void 0!==r&&!K.has(r)){var e=r.createElement("style");e.innerHTML='.solid-colorful{cursor:default;display:flex;flex-direction:column;height:200px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:200px}.solid-colorful__saturation{background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0));border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;flex-grow:1;position:relative}.solid-colorful__alpha-gradient,.solid-colorful__pointer-fill{border-radius:inherit;bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.solid-colorful__alpha-gradient,.solid-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.solid-colorful__alpha,.solid-colorful__hue{height:24px;position:relative}.solid-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.solid-colorful__last-control{border-radius:0 0 8px 8px}.solid-colorful__interactive{border-radius:inherit;bottom:0;left:0;outline:none;position:absolute;right:0;top:0;touch-action:none}.solid-colorful__pointer{background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);box-sizing:border-box;height:28px;position:absolute;transform:translate(-50%,-50%);width:28px;z-index:1}.solid-colorful__interactive:focus .solid-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.solid-colorful__alpha,.solid-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.solid-colorful__saturation-pointer{z-index:3}.solid-colorful__hue-pointer{z-index:2}',K.set(r,e);var n=D();n&&e.setAttribute("nonce",n),r.head.appendChild(e)}})},O=function(o){var n,t=r.splitProps(o,["class","colorModel","color","onChange"]),a=t[0],l=t[1],s=r.createSignal(),i=s[1];z((0,s[0])());var c=I(a.colorModel,null!=(n=a.color)?n:o.colorModel.defaultColor,a.onChange),f=c[0],d=c[1],v=u(["solid-colorful",a.class]);return h("div",e({},l,{ref:i,class:v}),h(N,{hsva:f(),onChange:d}),h(S,{hue:f().h,onChange:d,class:"solid-colorful__last-control"}))},B={defaultColor:"000",toHsva:function(o){return P(d(o))},fromHsva:function(o){return r=H(o),"#"+y(r.r)+y(r.g)+y(r.b);var r},equal:function(o,r){return o.toLowerCase()===r.toLowerCase()||j(d(o),d(r))}},L=function(o){var r={backgroundImage:"linear-gradient(90deg, "+C(Object.assign({},o.hsva,{a:0}))+", "+C(Object.assign({},o.hsva,{a:1}))+")"},e=u(["solid-colorful__alpha",o.class]);return h("div",{class:e},h("div",{class:"solid-colorful__alpha-gradient",style:r}),h(s,{onMove:function(r){o.onChange({a:r.left})},onKey:function(r){o.onChange({a:a(o.hsva.a+r.left)})},"aria-label":"Alpha","aria-valuetext":c(100*o.hsva.a)+"%"},h(i,{class:"solid-colorful__alpha-pointer",left:o.hsva.a,color:C(o.hsva)})))},A=function(o){var n,t=r.splitProps(o,["class","colorModel","color","onChange"]),a=t[0],l=t[1],s=r.createSignal(),i=s[1];z((0,s[0])());var c=I(a.colorModel,null!=(n=a.color)?n:a.colorModel.defaultColor,a.onChange),f=c[0],d=c[1],v=u(["solid-colorful",a.class]);return h("div",e({},l,{ref:i,class:v}),h(N,{hsva:f(),onChange:d}),h(S,{hue:f().h,onChange:d}),h(L,{hsva:f(),onChange:d,class:"solid-colorful__last-control"}))},R={defaultColor:{h:0,s:0,l:0,a:1},toHsva:b,fromHsva:_,equal:j},T={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:g,fromHsva:C,equal:E},F={defaultColor:{h:0,s:0,l:0},toHsva:function(o){return b({h:o.h,s:o.s,l:o.l,a:1})},fromHsva:function(o){return{h:(r=_(o)).h,s:r.s,l:r.l};var r},equal:j},J={defaultColor:"hsl(0, 0%, 0%)",toHsva:p,fromHsva:m,equal:E},$={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(o){return o},fromHsva:q,equal:j},G={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:x,fromHsva:function(o){var r=q(o);return"hsva("+r.h+", "+r.s+"%, "+r.v+"%, "+r.a+")"},equal:E},Q={defaultColor:{h:0,s:0,v:0},toHsva:function(o){return{h:o.h,s:o.s,v:o.v,a:1}},fromHsva:function(o){var r=q(o);return{h:r.h,s:r.s,v:r.v}},equal:j},U={defaultColor:"hsv(0, 0%, 0%)",toHsva:M,fromHsva:function(o){var r=q(o);return"hsv("+r.h+", "+r.s+"%, "+r.v+"%)"},equal:E},V={defaultColor:{r:0,g:0,b:0,a:1},toHsva:P,fromHsva:H,equal:j},W={defaultColor:"rgba(0, 0, 0, 1)",toHsva:k,fromHsva:function(o){var r=H(o);return"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")"},equal:E},X={defaultColor:{r:0,g:0,b:0},toHsva:function(o){return P({r:o.r,g:o.g,b:o.b,a:1})},fromHsva:function(o){return{r:(r=H(o)).r,g:r.g,b:r.b};var r},equal:j},Y={defaultColor:"rgb(0, 0, 0)",toHsva:w,fromHsva:function(o){var r=H(o);return"rgb("+r.r+", "+r.g+", "+r.b+")"},equal:E},Z=/^#?([0-9A-F]{3,8})$/i,oo=function(o){var t=r.splitProps(o,["color","escape","format","onBlur","onChange","process","validate"]),a=t[0],l=t[1],s=r.createSignal(a.escape(a.color||"")),u=s[0],i=s[1],c=n(a.onChange),f=n(a.onBlur);return r.createEffect(function(){i(a.escape(a.color||""))}),h("input",e({},l,{value:a.format?a.format(u()):u(),spellcheck:"false",onChange:function(o){var r=a.escape(o.target.value);i(r),a.validate(r)&&c(a.process?a.process(r):r)},onBlur:function(o){a.validate(o.target.value)||i(a.escape(a.color||"")),f(o)}}))},ro=function(o){return"#"+o};o.HexColorInput=function(o){var n=r.splitProps(o,["alpha","prefixed"]),t=n[0];return h(oo,e({},n[1],{escape:function(o){return o.replace(/([^0-9A-F]+)/gi,"").substring(0,t.alpha?8:6)},format:t.prefixed?ro:void 0,process:ro,validate:function(o){return function(o,r){var e=Z.exec(o),n=e?e[1].length:0;return 3===n||6===n||!!r&&4===n||!!r&&8===n}(o,t.alpha)}}))},o.HexColorPicker=function(o){return h(O,e({},o,{colorModel:B}))},o.HslColorPicker=function(o){return h(O,e({},o,{colorModel:F}))},o.HslStringColorPicker=function(o){return h(O,e({},o,{colorModel:J}))},o.HslaColorPicker=function(o){return h(A,e({},o,{colorModel:R}))},o.HslaStringColorPicker=function(o){return h(A,e({},o,{colorModel:T}))},o.HsvColorPicker=function(o){return h(O,e({},o,{colorModel:Q}))},o.HsvStringColorPicker=function(o){return h(O,e({},o,{colorModel:U}))},o.HsvaColorPicker=function(o){return h(A,e({},o,{colorModel:$}))},o.HsvaStringColorPicker=function(o){return h(A,e({},o,{colorModel:G}))},o.RgbColorPicker=function(o){return h(O,e({},o,{colorModel:X}))},o.RgbStringColorPicker=function(o){return h(O,e({},o,{colorModel:Y}))},o.RgbaColorPicker=function(o){return h(A,e({},o,{colorModel:V}))},o.RgbaStringColorPicker=function(o){return h(A,e({},o,{colorModel:W}))},o.setNonce=function(o){t=o}});
//# sourceMappingURL=index.umd.js.map
